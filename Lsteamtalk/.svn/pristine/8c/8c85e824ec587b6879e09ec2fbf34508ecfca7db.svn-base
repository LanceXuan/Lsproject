package com.lesso.serviceImpl;

import java.util.List;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;

import net.sf.json.JSONArray;

import com.lesso.beans.Z_Vkorg;
import com.lesso.dao.Z_VkorgDao;
import com.lesso.daoImpl.Z_VkorgDaoImpl;
import com.lesso.service.Z_VkorgService;

/** * @author  Lance 
 * @date 创建时间：2016年1月5日 上午10:05:59 
 * @version 1.0 
 * @parameter  
 * @since  
 * @return  */
public class Z_VkorgServiceImpl implements Z_VkorgService {
     private Z_VkorgDao dao = new Z_VkorgDaoImpl();
	@Override
	public void getAll(HttpServletRequest request, HttpServletResponse response) {
		Log logs = LogFactory.getLog(Z_VkorgServiceImpl.class);
		try {
			logs.info("Z_VkorgServiceImpl.getAll()方法开始");
            List<Z_Vkorg> list = dao.findAll();
            response.setContentType("text/html;charset=utf-8");
			response.getWriter().write(JSONArray.fromObject(list).toString());
		} catch (Exception e) {
            e.printStackTrace();
            logs.info("Z_VkorgServiceImpl.getAll() has Error,Error is"+e.getMessage());
		}
	}
 
}
